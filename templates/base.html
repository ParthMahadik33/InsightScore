<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Auth{% endblock %}</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-overlay: rgba(15, 23, 42, 0.04);
        --card-bg: rgba(255, 255, 255, 0.85);
        --accent: #1d4ed8; /* rich blue */
        --accent-soft: rgba(37, 99, 235, 0.12);
        --border-subtle: rgba(148, 163, 184, 0.6);
        --text-main: #0f172a; /* charcoal */
        --text-muted: #0f766e; /* deep teal */
        --error: #b91c1c;
        --success: #22c55e; /* light green */
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        display: flex;
        align-items: stretch;
        justify-content: center;
        color: var(--text-main);
        background: url("{{ url_for('static', filename='assets/bg.png') }}")
          center/cover fixed no-repeat;
      }

      .auth-shell {
        width: 100%;
        max-width: 1100px;
        margin: 32px 16px;
        background: transparent;
        box-shadow: none;
        border-radius: 0;
        overflow: visible;
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
        position: relative;
        backdrop-filter: none;
      }

      @media (max-width: 900px) {
        .auth-shell {
          grid-template-columns: minmax(0, 1fr);
        }

        .auth-visual {
          display: none;
        }
      }

      @media (max-width: 768px) {
        body {
          padding: 16px;
          padding-bottom: 16px; /* No bottom nav on login pages */
        }

        .auth-shell {
          margin: 16px 8px;
          margin-bottom: 16px; /* Ensure no overlap */
        }

        .auth-main {
          padding: 24px 20px;
          margin-bottom: 16px; /* Extra space at bottom */
        }

        .auth-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .field-input input {
          font-size: 16px; /* Prevents zoom on iOS */
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 12px;
          padding-bottom: 12px; /* No bottom nav on login pages */
        }

        .auth-shell {
          margin: 12px 4px;
          margin-bottom: 12px;
        }

        .auth-main {
          padding: 20px 16px;
          margin-bottom: 12px;
        }

        .auth-body h2 {
          font-size: 20px;
        }
      }

      .auth-visual {
        position: relative;
        overflow: visible;
        background: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .carousel {
        position: relative;
        width: 100%;
        max-width: 360px;
        height: min(60vh, 400px);
        border-radius: 22px;
        overflow: hidden;
        box-shadow:
          0 18px 40px rgba(15, 23, 42, 0.35),
          0 0 0 1px rgba(148, 163, 184, 0.35);
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.82),
          rgba(191, 219, 254, 0.85)
        );
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      .carousel-track {
        position: relative;
        width: 100%;
        height: 100%;
      }

      .carousel-slide {
        position: absolute;
        inset: 0;
        opacity: 0;
        transition: opacity 0.8s ease-in-out;
      }

      .carousel-slide img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        filter: saturate(1.05) contrast(1.02);
        background: transparent;
      }

      .carousel-slide--active {
        opacity: 1;
      }

      .carousel-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top right,
          rgba(15, 23, 42, 0.55),
          rgba(15, 23, 42, 0.18)
        );
      }

      .carousel-content {
        position: absolute;
        inset: 0;
        padding: 28px 28px 26px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .carousel-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.92);
        color: #e5e7eb;
        font-size: 11px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        border: 1px solid rgba(148, 163, 184, 0.4);
        backdrop-filter: blur(10px);
      }

      .carousel-badge-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.25);
      }

      .carousel-heading {
        max-width: 280px;
      }

      .carousel-heading h1 {
        margin: 18px 0 8px;
        font-size: 26px;
        line-height: 1.2;
        font-weight: 700;
        letter-spacing: -0.03em;
      }

      .carousel-heading p {
        margin: 0;
        font-size: 13px;
        color: var(--text-muted);
      }

      .carousel-dots {
        display: flex;
        gap: 6px;
      }

      .carousel-dot {
        width: 22px;
        height: 4px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.45);
      }

      .carousel-dot:nth-child(1) {
        background: var(--accent);
      }

      .auth-main {
        padding: 28px 30px 26px;
        position: relative;
        background: radial-gradient(
          circle at top left,
          rgba(255, 255, 255, 0.92),
          rgba(219, 234, 254, 0.88)
        );
        border-radius: 22px;
        box-shadow:
          0 18px 40px rgba(15, 23, 42, 0.28),
          0 0 0 1px rgba(148, 163, 184, 0.5);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }

      .auth-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .brand-mark {
        width: 28px;
        height: 28px;
        border-radius: 10px;
      }
      
      .brand-mark img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .brand-text {
        display: flex;
        flex-direction: column;
      }

      .brand-text span:nth-child(1) {
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--text-muted);
      }

      .brand-text span:nth-child(2) {
        font-weight: 600;
        font-size: 15px;
        letter-spacing: -0.02em;
      }

      .auth-switch {
        font-size: 13px;
        color: var(--text-muted);
      }

      .auth-switch a {
        color: #a5b4fc;
        text-decoration: none;
        font-weight: 500;
      }

      .auth-switch a:hover {
        text-decoration: underline;
      }

      .auth-body {
        margin-top: 6px;
      }

      .auth-body h2 {
        margin: 0 0 6px;
        font-size: 22px;
        letter-spacing: -0.03em;
      }

      .auth-body p {
        margin: 0 0 18px;
        font-size: 13px;
        color: var(--text-muted);
      }

      .flash-messages {
        margin-bottom: 10px;
      }

      .flash {
        padding: 8px 10px;
        border-radius: 999px;
        font-size: 12px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 6px;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }

      .flash-success {
        background: rgba(22, 163, 74, 0.08);
        color: var(--success);
        border: 1px solid rgba(22, 163, 74, 0.35);
      }

      .flash-error {
        background: rgba(248, 113, 113, 0.06);
        color: var(--error);
        border: 1px solid rgba(248, 113, 113, 0.35);
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 4px;
      }

      .field-group {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      label {
        font-size: 12px;
        color: var(--text-muted);
      }

      .field-input {
        position: relative;
      }

      .field-input input {
        width: 100%;
        padding: 10px 12px;
        border-radius: 11px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(255, 255, 255, 0.7);
        color: var(--text-main);
        font-size: 13px;
        outline: none;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.6);
        transition:
          border-color 0.16s ease,
          box-shadow 0.16s ease,
          background 0.16s ease;
      }

      .field-input input:focus {
        border-color: rgba(37, 99, 235, 0.9);
        box-shadow:
          0 0 0 1px rgba(56, 189, 248, 0.7),
          0 0 20px rgba(37, 99, 235, 0.35);
      }

      .field-helper {
        font-size: 11px;
        color: var(--text-muted);
      }

      .auth-footer-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 8px;
        gap: 8px;
      }

      .remember {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        color: var(--text-muted);
      }

      .submit-btn {
        padding: 10px 16px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        background: linear-gradient(135deg, #2563eb, #22c55e);
        color: white;
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow:
          0 18px 40px rgba(37, 99, 235, 0.4),
          0 0 0 1px rgba(56, 189, 248, 0.6);
      }

      .submit-btn:hover {
        filter: brightness(1.05);
      }

      .submit-btn:active {
        transform: translateY(0.5px);
        box-shadow:
          0 12px 24px rgba(55, 48, 163, 0.9),
          0 0 0 1px rgba(129, 140, 248, 0.85);
      }

      .divider {
        margin: 20px 0 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 11px;
        color: rgba(15, 23, 42, 0.75);
      }

      .divider span {
        flex: 1;
        height: 1px;
        background: linear-gradient(
          to right,
          rgba(15, 23, 42, 0),
          rgba(15, 23, 42, 0.25),
          rgba(15, 23, 42, 0)
        );
      }

      @keyframes slide {
        0%,
        28% {
          transform: translateX(0);
        }
        33%,
        61% {
          transform: translateX(-33.3333%);
        }
        66%,
        94% {
          transform: translateX(-66.6667%);
        }
        100% {
          transform: translateX(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="auth-shell">
      <aside class="auth-visual">
        <div class="carousel">
          <div class="carousel-track">
            <div class="carousel-slide carousel-slide--active">
              <img
                src="{{ url_for('static', filename='assets/carousel1.png') }}"
                alt="Carousel 1"
              />
            </div>
            <div class="carousel-slide">
              <img
                src="{{ url_for('static', filename='assets/carousel2.png') }}"
                alt="Carousel 2"
              />
            </div>
            <div class="carousel-slide">
              <img
                src="{{ url_for('static', filename='assets/carousel3.png') }}"
                alt="Carousel 3"
              />
            </div>
          </div>
          <div class="carousel-overlay"></div>
          <div class="carousel-content">
            <div>
              
             
            </div>
            <div class="carousel-dots">
              <div class="carousel-dot"></div>
              <div class="carousel-dot"></div>
              <div class="carousel-dot"></div>
            </div>
          </div>
        </div>
      </aside>

      <main class="auth-main">
        <header class="auth-header">
          <div class="brand">
            <div class="brand-mark">
              <img src="{{ url_for('static', filename='assets/logo2.png') }}" alt="Logo" />
            </div>
            <div class="brand-text">
              <span>Account</span>
              <span>Sign in &amp; Sign up</span>
            </div>
          </div>
          <div class="auth-switch">
            {% block switch %}{% endblock %}
          </div>
        </header>

        <section class="auth-body">
          <h2>{% block heading %}{% endblock %}</h2>
          <p>{% block subheading %}{% endblock %}</p>

          <div class="flash-messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div
              class="flash {% if category == 'error' %}flash-error{% elif category == 'success' %}flash-success{% endif %}"
            >
              {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}
          </div>

          {% block form %}{% endblock %}
        </section>
      </main>
    </div>

    <script>
      (function () {
        const slides = document.querySelectorAll(".carousel-slide");
        if (!slides.length) return;

        let current = 0;
        const total = slides.length;

        function showSlide(index) {
          slides.forEach((slide, i) => {
            slide.classList.toggle("carousel-slide--active", i === index);
          });
        }

        setInterval(() => {
          current = (current + 1) % total;
          showSlide(current);
        }, 4000);
      })();
    </script>
  </body>
</html>

